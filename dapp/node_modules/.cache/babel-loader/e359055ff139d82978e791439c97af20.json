{"ast":null,"code":"/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\n/** @file shh.js\n * @authors:\n *   Marek Kotewicz <marek@ethdev.com>\n * @date 2015\n */\nvar Method = require('../method');\n\nvar formatters = require('../formatters');\n\nvar Filter = require('../filter');\n\nvar watches = require('./watches');\n\nvar Shh = function Shh(web3) {\n  this._requestManager = web3._requestManager;\n  var self = this;\n  methods().forEach(function (method) {\n    method.attachToObject(self);\n    method.setRequestManager(self._requestManager);\n  });\n};\n\nShh.prototype.filter = function (fil, callback) {\n  return new Filter(this._requestManager, fil, watches.shh(), formatters.outputPostFormatter, callback);\n};\n\nvar methods = function methods() {\n  var post = new Method({\n    name: 'post',\n    call: 'shh_post',\n    params: 1,\n    inputFormatter: [formatters.inputPostFormatter]\n  });\n  var newIdentity = new Method({\n    name: 'newIdentity',\n    call: 'shh_newIdentity',\n    params: 0\n  });\n  var hasIdentity = new Method({\n    name: 'hasIdentity',\n    call: 'shh_hasIdentity',\n    params: 1\n  });\n  var newGroup = new Method({\n    name: 'newGroup',\n    call: 'shh_newGroup',\n    params: 0\n  });\n  var addToGroup = new Method({\n    name: 'addToGroup',\n    call: 'shh_addToGroup',\n    params: 0\n  });\n  return [post, newIdentity, hasIdentity, newGroup, addToGroup];\n};\n\nmodule.exports = Shh;","map":null,"metadata":{},"sourceType":"script"}